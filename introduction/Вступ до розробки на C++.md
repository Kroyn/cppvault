Перш ніж ми зможемо написати і виконати нашу першу програму на C++, нам потрібно більш детально зрозуміти, як розробляються програми на C++. Ось графік, що демонструє спрощений підхід:

![Pasted image 20240902103043.png](./images/Pasted%20image%2020240902103043.png)
## Крок 1: Визначте проблему, яку ви хочете вирішити

Це крок "що", на якому ви з'ясовуєте, яку проблему ви хочете вирішити. Придумати початкову ідею того, що ви хочете запрограмувати, може бути як найлегшим кроком, так і найскладнішим. Але концептуально він найпростіший. Все, що вам потрібно - це ідея, яку можна чітко сформулювати, і ви готові до наступного кроку.

Ось кілька прикладів:

- "Я хочу написати програму, яка дозволить мені ввести багато чисел, а потім обчислити середнє значення".
- "Я хочу написати програму, яка генерує двовимірний лабіринт і дозволяє користувачеві переміщатися по ньому. Користувач виграє, якщо дійде до кінця".
- "Я хочу написати програму, яка зчитує з файлу ціни на акції і прогнозує, чи будуть вони рости або падати".

---

## Крок 2: Визначте, як ви збираєтеся вирішити проблему

Це крок "як", на якому ви визначаєте, як ви збираєтеся вирішити проблему, з якою ви зіткнулися на кроці 1. Це також крок, яким найбільше нехтують при розробці програмного забезпечення. Суть проблеми полягає в тому, що існує багато способів вирішити проблему - однак, деякі з цих рішень є хорошими, а деякі - поганими. Занадто часто програміст отримує ідею, сідає і одразу ж починає кодувати рішення. Це часто генерує рішення, яке потрапляє в категорію поганих.

Зазвичай, хороші рішення мають наступні характеристики:

- Вони є простими (не надто складними чи заплутаними).
- Вони добре задокументовані (особливо щодо будь-яких припущень чи обмежень).
- Вони побудовані за модульним принципом, тому окремі частини можуть бути повторно використані або змінені пізніше без впливу на інші частини програми.
- Вони надійні і можуть відновлюватися або видавати корисні повідомлення про помилки, коли трапляється щось непередбачуване.

Коли ви сідаєте і одразу починаєте кодувати, ви зазвичай думаєте: "Я хочу зробити <щось>", тому реалізуєте рішення, яке приведе вас до мети найшвидше. Це може призвести до того, що програми будуть нестабільними, їх буде важко змінювати чи розширювати пізніше, або в них буде багато багів. **Баг** - це будь-яка помилка програмування, яка заважає програмі працювати належним чином.


> [!info] **До речі…**
> Термін баг вперше використав Томас Едісон ще у 1870-х роках! Однак, термін набув популярності в 1940-х роках, коли інженери знайшли справжню моль, що застрягла в апаратному забезпеченні раннього комп'ютера, спричинивши коротке замикання. І журнал, в якому було зафіксовано помилку, і моль тепер є частиною Смітсонівського музею американської історії. Його можна переглянути [тут](https://americanhistory.si.edu/collections/nmah_334663).

Різні дослідження показали, що у складних програмних системах лише 10-40% часу програміста фактично витрачається на написання початкової програми. Інші 60-90% витрачаються на супровід, який може складатися з **налагодження** (усунення помилок), оновлень, щоб впоратися зі змінами в середовищі (наприклад, для запуску на новій версії ОС), поліпшень (незначні зміни для поліпшення зручності використання або можливостей) або внутрішніх поліпшень (для підвищення надійності або ремонтопридатності).

Отже, варто витратити трохи більше часу на те, щоб заздалегідь (до початку кодування) подумати про те, як найкраще вирішити проблему, які припущення ви робите і як ви можете планувати майбутнє, щоб заощадити собі багато часу і неприємностей у майбутньому.

---

## Крок 3: Напишіть програму

Для того, щоб написати програму, нам потрібні дві речі: По-перше, знання мови програмування - ось для чого ці підручники! По-друге, нам потрібен текстовий редактор, щоб писати і зберігати написані програми. Програми, які ми пишемо за допомогою інструкцій C++, називаються **вихідним кодом**(або з англ. **source code**) (часто скорочують до просто **коду**). Ви можете написати програму за допомогою будь-якого текстового редактора, навіть такого простого, як блокнот для Windows або vi чи pico для Unix.

Програма, набрана у звичайному текстовому редакторі, виглядатиме приблизно так:

```
#include <iostream>

int main()
{
    std::cout << "Here is some text.";
    return 0;
}
```

Однак ми наполегливо рекомендуємо вам використовувати редактор, призначений для програмування (так званий **редактор коду**). Не хвилюйтеся, якщо у вас його ще немає. Незабаром ми розповімо, як встановити редактор коду.

Типовий редактор, призначений для кодування, має кілька функцій, які значно полегшують програмування, зокрема:

1. Нумерація рядків. Нумерація рядків корисна, коли компілятор видає помилку, оскільки типовою помилкою компілятора є: деякий код/повідомлення про помилку, рядок 64. Без редактора, який показує номери рядків, пошук рядка 64 може стати справжнім клопотом.
2. Підсвічування та розфарбування синтаксису. Підсвічування та розфарбування синтаксису змінює колір різних частин вашої програми, щоб полегшити ідентифікацію різних компонентів вашої програми.
3. Однозначний шрифт фіксованої ширини (часто його називають "моноширинний шрифт"). Непрограмні шрифти часто ускладнюють розрізнення між цифрою 0 і літерою O, або між цифрою 1, літерою l (мала літера L) і літерою I (велика літера i). Хороший програмний шрифт забезпечить візуальну диференціацію цих символів, щоб не допустити випадкового використання одного замість іншого. У всіх редакторах коду це має бути ввімкнено за замовчуванням, але у стандартному текстовому редакторі цього може не бути. Використання шрифту фіксованої ширини (коли всі символи мають однакову ширину) полегшує правильне форматування та вирівнювання коду.

Ось приклад програми на C++ з нумерацією рядків, підсвічуванням синтаксису та шрифтом фіксованої ширини:

```cpp
#include <iostream>

int main()
{
    std::cout << "Here is some text.";
    return 0;
}
```

Зверніть увагу, наскільки легше зрозуміти такий варіант, ніж непідсвічений. Вихідний код, який ми покажемо у цьому підручнику, матиме як нумерацію рядків, так і підсвічування синтаксису, щоб зробити його більш зрозумілим.

> [!info] **Порада**
> Обидва компоненти - [Coding Font](https://www.codingfont.com/) і [Programming Font](https://www.programmingfonts.org/) - мають зручні інструменти, які дозволяють порівнювати різні кодувальні шрифти, щоб визначити, які з них вам подобаються найбільше.

> [!tip] **Для досвідчених читачів**
> Оскільки вихідний код записується за допомогою символів ASCII, мови програмування використовують певні хитрощі для представлення математичних понять. Наприклад, `≠` не входить до набору символів ASCII, тому мови програмування зазвичай використовують `!=` для позначення математичної нерівності.
> 
> Деякі програмні шрифти, такі як [Fira Code](https://github.com/tonsky/FiraCode), використовують лігатури, щоб об'єднати такі "витвори мистецтва" в один символ. Наприклад, замість `!=`, Fira Code покаже `≠` (використовуючи ту саму ширину, що й двосимвольна версія). Деяким людям так легше читати, інші вважають за краще дотримуватися більш буквальної інтерпретації символів, що лежать в основі.

Багато простих програм на C++ мають лише один файл вихідного коду, але складні програми на C++ можуть мати сотні або навіть тисячі файлів вихідного коду.

Кожен файл вихідного коду у вашій програмі потрібно зберігати на диску, а це означає, що кожному файлу вихідного коду потрібно присвоїти ім'я. C++ не має жодних вимог до іменування файлів. Однак де-факто стандартом є називання першого/основного файлу вихідного коду, створеного для програми, `main.cpp`. Ім'я файлу (`main`) дозволяє легко визначити, який файл є основним, а розширення `.cpp` вказує на те, що файл є файлом вихідного коду C++.

Іноді ви можете побачити перший/первинний файл вихідного коду, названий за назвою програми (наприклад, `calculator.cpp`, `poker.cpp`). Ви також можете іноді бачити інші розширення (наприклад, `.cc` або `.cxx`).

> [!success] **Найкращя практика**
> Назвіть перший/основний файл вихідного коду кожної програми `main.cpp`. Це дозволяє легко визначити, який файл вихідного коду є основним.

Після того, як ви написали програму, наступні кроки полягають у тому, щоб перетворити вихідний код на щось, що можна запустити, а потім перевірити, чи працює вона!

---

## Крок 4: Компіляція вихідного коду

Для компіляції файлів вихідного коду на C++ ми використовуємо компілятор C++. Компілятор C++ послідовно проходить через кожен файл вихідного коду (.cpp) вашої програми і виконує дві важливі задачі:

По-перше, компілятор перевіряє ваш C++ код, щоб переконатися, що він відповідає правилам мови C++. Якщо це не так, компілятор видасть вам помилку (і відповідний номер рядка), щоб допомогти точно визначити, що потрібно виправити. Процес компіляції також буде перервано, доки помилку не буде виправлено.

По-друге, компілятор перекладає ваш C++ код в інструкції машинної мови. Ці інструкції зберігаються у проміжному файлі, який називається об'єктним файлом. Об'єктний файл також містить метадані, які є необхідними або корисними на наступних кроках.

Об'єктні файли зазвичай мають ім'я name.o або name.obj, де name - це те саме ім'я, що й у файлі .cpp, з якого він був створений.

Наприклад, якщо ваша програма має 3 файли .cpp, компілятор згенерує 3 об'єктні файли:

WIP

Компілятори C++ доступні для багатьох операційних систем. Про встановлення компілятора ми поговоримо незабаром, тому зараз немає необхідності це робити.

---

## Крок 5: Зв'язування об'єктних файлів і бібліотек

Після успішного завершення роботи компілятора запускається інша програма, яка називається **лінкер(або компонувальник)**. Завдання **лінкер** - об'єднати всі об'єктні файли і створити потрібний вихідний файл (як правило, виконуваний). Цей процес називається компонуванням.

Спочатку лінкер зчитує кожен з об'єктних файлів, створених компілятором, і переконується, що вони правильні.

По-друге, лінкер гарантує, що всі міжфайлові залежності будуть вирішені належним чином. Наприклад, якщо ви визначаєте щось в одному .cpp-файлі, а потім використовуєте це в іншому .cpp-файлі, лінкер з'єднує їх разом. Якщо лінкер не зможе зв'язати посилання на щось з його визначенням, ви отримаєте помилку лінкера, і процес компонування буде перервано.

По-третє, лінкер також може компонувати бібліотечні файли. Бібліотечний файл - це набір попередньо скомпільованого коду, який було "запаковано" для повторного використання в інших програмах.

C++ постачається з великою бібліотекою, яка називається **Стандартна бібліотека C++** (зазвичай скорочується до стандартної бібліотеки), що надає набір корисних можливостей для використання у ваших програмах. Однією з найбільш часто використовуваних частин стандартної бібліотеки C++ є бібліотека iostream, яка містить функціональність для виведення тексту на монітор та отримання даних з клавіатури від користувача. Майже кожна програма, написана на C++, використовує стандартну бібліотеку у тій чи іншій формі, тому дуже часто стандартна бібліотека компонується у ваші програми. Більшість лінкерів автоматично компонують стандартну бібліотеку, як тільки ви використовуєте будь-яку її частину, тому вам не потрібно про це турбуватися.

Ви також можете компонувати інші бібліотеки за бажанням. Наприклад, якщо ви збираєтеся написати програму, яка відтворює звуки, ви, ймовірно, не захочете писати власний код для зчитування звукових файлів з диска, перевірки їхньої дійсності або з'ясування того, як передати звукові дані операційній системі або апаратному забезпеченню для відтворення через динамік - це було б занадто багато роботи! Замість цього ви, ймовірно, завантажите бібліотеку, яка вже знає, як робити ці речі, і скористаєтеся нею. Ми поговоримо про те, як підключати бібліотеки (і створювати власні!) у додатку.

WIP

Після того, як лінкер зв'яже всі об'єктні файли і бібліотеки, ви отримаєте виконуваний файл, який можна буде запустити (якщо все пройде добре).

---

## Білдінг

Оскільки збірка складається з кількох етапів, термін "збірка" часто використовується для позначення повного процесу перетворення файлів вихідного коду у виконуваний файл, який можна запустити. Конкретний виконуваний файл, створений у результаті складання, іноді називають збіркою.

> [!NOTE] **Для досвідчених читачів**
> У складних проектах часто використовують інструменти автоматизації збірки (наприклад, make або build2), які допомагають автоматизувати процес складання програм і запуску автоматизованих тестів. Хоча такі інструменти є потужними та гнучкими, оскільки вони не є частиною основної мови C++, і вам не потрібно використовувати їх для продовження роботи, ми не будемо обговорювати їх у рамках цієї серії підручників.

---

## Кроки 6 та 7: Тестування та налагодження

Це найцікавіша частина (сподіваємось)! Ви можете запустити ваш виконуваний файл і подивитися, чи видає він той результат, який ви очікували!

Якщо ваша програма запускається, але працює некоректно, то настав час для налагодження, щоб з'ясувати, що не так. Про те, як тестувати ваші програми і як їх налагоджувати, ми поговоримо більш детально незабаром.

---

## Інтегровані середовища розробки (IDEs)

Зверніть увагу, що кроки 3, 4, 5 і 7 передбачають використання програм, які необхідно встановити (редактор, компілятор, компонувальник, налагоджувач). Хоча ви можете використовувати окремі програми для кожної з цих дій, програмний пакет, відомий як інтегроване середовище розробки (IDE), об'єднує та інтегрує всі ці функції разом. Ми обговоримо IDE та встановлення одного з них у наступному розділі.