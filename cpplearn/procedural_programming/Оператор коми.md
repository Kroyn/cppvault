---
date: 2024-10-04
tags:
  - Процедурне_програмування
  - Оператори
---

| Operator | Symbol | Form | Operation                             |
| -------- | ------ | ---- | ------------------------------------- |
| Comma    | ,      | x, y | Evaluate x then y, returns value of y |
**Оператор кома (,)** дозволяє обчислювати декілька виразів там, де допускається один вираз. Оператор коми обчислює лівий операнд, потім правий операнд, а потім повертає результат правого операнда.

Наприклад:
```cpp
#include <iostream>

int main()
{
    int x{ 1 };
    int y{ 2 };

    std::cout << (++x, ++y) << '\n'; // increment x and y, evaluates to the right operand

    return 0;
}
```
Спочатку обчислюється лівий операнд оператора коми, який збільшує x від 1 до 2. Потім обчислюється правий операнд, який збільшує y від 2 до 3. Оператор коми повертає результат правого операнду (3), який згодом виводиться на консоль.

Зверніть увагу, що кома має найнижчий пріоритет серед усіх операторів, навіть нижчий за присвоювання. Через це наступні два рядки коду роблять різні речі:
```cpp
z = (a, b); // evaluate (a, b) first to get result of b, then assign that value to variable z.
z = a, b; // evaluates as "(z = a), b", so z gets assigned the value of a, and b is evaluated and discarded.
```
Це робить використання оператора коми дещо небезпечним.

Майже у кожному випадку оператори, написані з використанням оператора кома, краще записувати як окремі оператори. Наприклад, вищенаведений код можна записати так:
```cpp
#include <iostream>

int main()
{
    int x{ 1 };
    int y{ 2 };

    ++x;
    std::cout << ++y << '\n';

    return 0;
}
```
Більшість програмістів взагалі не використовують оператор кома, за єдиним винятком циклів всередині `for`, де його використання є досить поширеним.
> [!tip]
> Не використовуйте оператор кома, за винятком циклів.
## Кома як роздільник
У C++ символ кома часто використовується як роздільник, і в таких випадках оператор кома не викликається. Деякі приклади розділювальних ком:
```cpp
void foo(int x, int y) // Separator comma used to separate parameters in function definition
{
    add(x, y); // Separator comma used to separate arguments in function call
    constexpr int z{ 3 }, w{ 5 }; // Separator comma used to separate multiple variables being defined on the same line (don't do this)
}
```
Немає необхідності уникати розділових ком (за винятком оголошення декількох змінних, чого не слід робити).