---
date: 2024-09-02
tags:
  - Процедурне_програмування
  - Основи
---
## Навіщо використовувати функції?
Програмісти-початківці часто запитують: "А чи не можна просто помістити весь код у головну функцію?" Для простих програм це абсолютно можливо. Однак функції мають ряд переваг, які роблять їх надзвичайно корисними у програмах нетривіальної довжини або складності.
- Організація -- Зі зростанням складності програм стає дедалі складніше розміщувати весь код у функції main(). Функція - це майже як міні-програма, яку ми можемо написати окремо від основної програми, без необхідності думати про решту програми під час її написання. Це дозволяє нам розбити складну програму на менші, більш керовані частини, що зменшує загальну складність нашої програми.
- Багаторазовість використання - після написання функції її можна викликати багато разів з програми. Це дозволяє уникнути дублювання коду ("Не повторюйся") і мінімізує ймовірність помилок копіювання/вставки. Функції також можна використовувати спільно з іншими програмами, зменшуючи кількість коду, який потрібно писати з нуля (і повторно тестувати) кожного разу.
- Тестування - оскільки функції зменшують надлишковість коду, зменшується кількість коду, який потрібно тестувати. Крім того, оскільки функції є самодостатніми, після того, як ми протестували функцію, щоб переконатися, що вона працює, нам не потрібно тестувати її знову, якщо тільки ми не змінимо її. Це зменшує кількість коду, який ми повинні протестувати за один раз, що значно полегшує пошук помилок (або їх уникнення).
- Розширюваність - коли нам потрібно розширити нашу програму для обробки випадку, який вона не обробляла раніше, функції дозволяють нам внести зміни в одному місці, і ці зміни набувають чинності кожного разу, коли викликається функція.
- Абстракція - для того, щоб використовувати функцію, вам потрібно лише знати її ім'я, входи, виходи та місце розташування. Вам не потрібно знати, як вона працює або від якого іншого коду вона залежить. Це зменшує кількість знань, необхідних для використання чужого коду (включно з усім, що є у стандартній бібліотеці).
### Ефективне використання функцій
Одна з найбільших проблем, з якою стикаються програмісти-початківці (окрім вивчення мови) - це розуміння того, коли і як ефективно використовувати функції. Ось кілька основних рекомендацій щодо написання функцій:
- Групи операторів, які з'являються у програмі більше одного разу, зазвичай слід перетворювати на функції. Наприклад, якщо ми зчитуємо вхідні дані від користувача кілька разів у той самий спосіб, це чудовий кандидат на функцію. Якщо ми виводимо щось однаковим чином у декількох місцях, це також є чудовим кандидатом на функцію.
- Код, який має чітко визначений набір входів і виходів, є хорошим кандидатом на функцію (особливо якщо він складний). Наприклад, якщо у нас є список елементів, які ми хочемо відсортувати, код для сортування стане чудовою функцією, навіть якщо це буде зроблено лише один раз. На вхід подається невідсортований список, а на виході - відсортований. Іншою гарною перспективною функцією може бути код, який імітує кидання 6-гранної гральної кістки. Ваша поточна програма може використовувати його лише в одному місці, але якщо ви перетворите його на функцію, він буде готовий до повторного використання, якщо ви пізніше розширите вашу програму або у майбутній програмі.
- Функція зазвичай має виконувати одне (і тільки одне) завдання.
- Коли функція стає занадто довгою, складною або незрозумілою, її можна розбити на декілька підфункцій. Це називається рефакторинг.

Зазвичай, вивчаючи C++, ви будете писати багато програм, які включають 3 підзадачі:
1. Зчитування вхідних даних від користувача
2. Обчислення значення з введених даних
3. Друк обчисленого значення

Для тривіальних програм (наприклад, менше 20 рядків коду) деякі або всі з цих функцій можна винести у функцію main. Однак для довших програм (або просто для практики) кожна з них є хорошим кандидатом на окрему функцію.

Програмісти-початківці часто об'єднують обчислення значення і друк обчисленого значення в одну функцію. Однак це порушує емпіричне правило "однієї задачі" для функцій. Функція, яка обчислює значення, повинна повертати значення користувачеві і дозволяти йому вирішувати, що робити з обчисленим значенням (наприклад, викликати іншу функцію для друку значення).