---
date: 2024-09-01
tags:
  - Процедурне_програмування
  - Основи
---
**Коментар** - це примітка, призначена для читання програмістом, яка вставляється безпосередньо у вихідний код програми. Коментарі ігноруються компілятором і призначені лише для використання програмістом.

У C++ існує два різних стилі коментарів, обидва з яких слугують одній меті: допомогти програмістам певним чином документувати код.
## Однорядкові коментарі
Символ `//` починає однорядковий коментар C++, який вказує компілятору ігнорувати все від символу `//` до кінця рядка. Наприклад:

```cpp
std::cout << "Hello world!"; // Everything from here to the end of the line is ignored
```

Коментарі можна писати на любі мові, так-як компілятор буде інгнорувати коментарі:

```cpp
std::cout << "Hello world!"; // Весь ця лінія що написано тут буде пригноренно до кінця
```

Зазвичай однорядковий коментар використовується для швидкого коментування одного рядка коду.

```cpp
std::cout << "Hello world!\\n"; // std::cout lives in the iostream library
std::cout << "It is very nice to meet you!\\n"; // these comments make the code hard to read
std::cout << "Yeah!\\n"; // especially when lines are different lengths
```

Розміщення коментарів праворуч від рядка може ускладнити читання як коду, так і коментаря, особливо якщо рядок довгий. Якщо рядки досить короткі, коментарі можна просто вирівняти (зазвичай за крапкою табуляції), наприклад, так:

```cpp
std::cout << "Hello world!\\n";                 // std::cout lives in the iostream library
std::cout << "It is very nice to meet you!\\n"; // this is much easier to read
std::cout << "Yeah!\\n";                        // don't you think so?
```

Однак, якщо рядки довгі, розміщення коментарів праворуч може призвести до того, що вони стануть дуже довгими. У такому випадку однорядкові коментарі часто розміщують над рядком, який вони коментують:

```cpp
// std::cout lives in the iostream library
std::cout << "Hello world!\\n";

// this is much easier to read
std::cout << "It is very nice to meet you!\\n";

// don't you think so?
std::cout << "Yeah!\\n";
```
## Багаторядкові коментарі
Пара символів `/*` та `*/` позначає багаторядковий коментар у стилі C. Все, що знаходиться між символами, ігнорується.

```cpp
/* This is a multi-line comment.
   This line will be ignored.
   So will this one. */
```

Оскільки все, що знаходиться між символами, ігнорується, іноді можна побачити, як програмісти "прикрашають" свої багаторядкові коментарі:

```cpp
/* This is a multi-line comment.
 * the matching asterisks to the left
 * can make this easier to read
 */
```

Багаторядкові коментарі не можуть бути вкладеними. Отже, наступне матиме неочікувані результати:

```cpp
/* This is a multi-line /* comment */ this is not inside the comment */
// The above comment ends at the first */, not the second */
```
## Правильне використання коментарів
Зазвичай коментарі слід використовувати у трьох випадках. По-перше, для певної бібліотеки, програми або функції найкраще використовувати коментарі для опису того, що робить бібліотека, програма або функція. Зазвичай їх розміщують у верхній частині файлу або бібліотеки, або безпосередньо перед функцією. Наприклад:

```cpp
// This program calculates the student's final grade based on their test and homework scores.
```

```cpp
// This function uses Newton's method to approximate the root of a given equation.
```

```cpp
// The following lines generate a random item based on rarity, level, and a weight factor.
```

Всі ці коментарі дають читачеві гарне уявлення про те, чого намагається досягти бібліотека, програма або функція, без необхідності дивитися на фактичний код. Користувач (можливо, хтось інший або ви, якщо ви намагаєтеся повторно використати код, який ви написали раніше) може з першого погляду визначити, чи відповідає код тому, що він або вона намагається зробити. Це особливо важливо, коли ви працюєте в команді, де не всі знайомі з усім кодом.

> [!NOTE] 
> Якщо ви пишите код наприклад для GitHub, то краще використовуйте англійську, щоб як можна більше інших програмістів які не розуміють українську, але розуміють англіську, так для інших буде зрозуміли ваші коментарі.

По-друге, всередині бібліотеки, програми або функції, описаної вище, коментарі можна використовувати для опису того, як код досягне своєї мети.

```cpp
/* To calculate the final grade, we sum all the weighted midterm and homework scores
    and then divide by the number of scores to assign a percentage, which is
    used to calculate a letter grade. */
```

```cpp
// To generate a random item, we're going to do the following:
// 1) Put all of the items of the desired rarity on a list
// 2) Calculate a probability for each item based on level and weight factor
// 3) Choose a random number
// 4) Figure out which item that random number corresponds to
// 5) Return the appropriate item
```

Ці коментарі дають користувачеві уявлення про те, як код досягне своєї мети, без необхідності розуміти, що робить кожен окремий рядок коду.

По-третє, на рівні операторів коментарі слід використовувати для опису того, чому код щось робить. Поганий коментар до операторів пояснює, що робить код. Якщо ви коли-небудь напишете настільки складний код, що вам знадобиться коментар, щоб пояснити, що робить інструкція, вам, ймовірно, потрібно переписати інструкцію, а не коментувати її.

Ось кілька прикладів поганих і хороших коментарів до операторів.

Поганий коментар:

```cpp
// Set sight range to 0
sight = 0;
```

Причина: Ми вже бачимо, що приціл встановлюється на 0, дивлячись на оператор

Хороший коментар:

```cpp
// The player just drank a potion of blindness and can not see anything
sight = 0;
```

Причина: Тепер ми знаємо, чому приціл гравця встановлюється на 0

Поганий коментар:

```cpp
// Calculate the cost of the items
cost = quantity * 2 * storePrice;
```

Причина: Ми бачимо, що це розрахунок вартості, але чому кількість множиться на 2?

Хороший коментар:

```cpp
// We need to multiply quantity by 2 here because they are bought in pairs
cost = quantity * 2 * storePrice;
```

Причина: Тепер ми знаємо, чому ця формула має сенс.

Програмістам часто доводиться приймати складне рішення між тим, щоб вирішити проблему одним способом, або вирішити її по-іншому. Коментарі - це чудовий спосіб нагадати собі (або розповісти комусь іншому) причину, чому ви прийняли одне рішення, а не інше.

Хороші коментарі:

```cpp
// We decided to use a linked list instead of an array because
// arrays do insertion too slowly.
```

```cpp
// We're going to use Newton's method to find the root of a number because
// there is no deterministic way to solve these equations.
```

Нарешті, коментарі слід писати так, щоб вони були зрозумілими для того, хто не має уявлення про те, що робить код. Часто буває так, що програміст скаже: "Очевидно, що це робить! Я ніяк не можу про це забути". Але знаєте що? Це не очевидно, і ви будете здивовані, як швидко ви забудете :) Пізніше ви (або хтось інший) подякуєте собі за те, що записали що, як і чому у вашому коді людською мовою. Читати окремі рядки коду легко. Зрозуміти, яку мету вони покликані досягти, не так просто.


> [!success] 
> Коментуйте свій код широко і пишіть свої коментарі так, ніби ви говорите з кимось, хто не має уявлення про те, що робить код. Не думайте, що ви пам'ятатимете, чому ви зробили той чи інший вибір.
## Видалення коду з коментарями
Перетворення одного або декількох рядків коду на коментар називається **винесенням коду за дужки**. Це зручний спосіб (тимчасово) виключити частини вашого коду з включення до скомпільованої програми.

Щоб закоментувати один рядок коду, просто скористайтеся коментарем стилю //, щоб тимчасово перетворити рядок коду на коментар:

Без коментарів:

```cpp
std::cout << 1;
```

Прокоментовано:

```cpp
//    std::cout << 1;
```

Щоб закоментувати блок коду, використовуйте // у кількох рядках коду або коментар у стилі /* */, щоб тимчасово перетворити блок коду на коментар.

Без коментування:

```cpp
std::cout << 1;
std::cout << 2;
std::cout << 3;
```

Прокоментовано:

```cpp
//    std::cout << 1;
//    std::cout << 2;
//    std::cout << 3;
```

або

```cpp
/*
    std::cout << 1;
    std::cout << 2;
    std::cout << 3;
*/
```

Існує чимало причин, чому ви можете захотіти це зробити:

1. Ви працюєте над новим фрагментом коду, який ще не скомпілювався, а вам потрібно запустити програму. Компілятор не дозволить вам скомпілювати код, якщо є помилки компілятора. Закоментувавши код, який не компілюється, ви зможете скомпілювати програму і запустити її. Коли ви будете готові, ви можете розкоментувати код і продовжити роботу над ним.
2. Ви написали новий код, який компілюється, але працює неправильно, і у вас немає часу виправити його пізніше. Коментування несправного коду гарантує, що несправний код не буде виконуватися і спричиняти проблеми, поки ви його не виправите. Знайти джерело помилки. Якщо програма не дає бажаних результатів (або падає), іноді буває корисно вимкнути частину коду, щоб побачити, чи можна ізолювати причину її неправильної роботи. Якщо ви закоментуєте один або кілька рядків коду, і ваша програма почне працювати належним чином (або перестане падати), швидше за все, проблема була у тому, що ви востаннє закоментували. Після цього ви можете дослідити, чому саме ці рядки коду спричиняють проблему.
3. Ви хочете замінити один фрагмент коду на інший. Замість того, щоб просто видаляти оригінальний код, ви можете закоментувати його і залишити для довідки, поки не переконаєтеся, що новий код працює належним чином. Після того, як ви переконаєтеся, що ваш новий код працює, ви можете видалити старий код із коментарями. Якщо вам не вдасться змусити новий код працювати, ви завжди можете видалити новий код і розкоментувати старий, щоб повернутися до того, що було раніше.

Коментування коду є звичайною справою під час розробки, тому багато IDE надають підтримку коментування виділеної ділянки коду. Спосіб доступу до цієї функції залежить від середовища розробки.

> [!NOTE] Для користвувачів Visual Studio
> Існує комбінація яка дозволяє легко закоментувати та підкоментувати, що закоментувати однорядковим коментарям просто ставим курсор на рядок і робимо комбінацію Ctrl + K + C, якщо видиляти область то вони закоментується в багаторядковий коментар, щоб прибрати треба зробити комбінацію Ctrl + K + U.

## Підсумок
- На рівні бібліотеки, програми або функції використовуйте коментарі, щоб описати що.
- Усередині бібліотеки, програми або функції використовуйте коментарі, щоб описати як.
- На рівні операторів використовуйте коментарі, щоб описати чому.